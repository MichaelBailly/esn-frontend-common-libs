.login-content
  .block-header
    h2 {{ 'Password Management' | translate }}

  .alert.bs-alert-danger(ng-if="form.confirmpassword._blur && form.confirmpassword.$error.unique") {{ 'The two passwords do not match' | translate }}
  .alert.bs-alert-success(ng-if="hasSucceeded") {{ 'Successfully changed your password.' | translate }}

  .card.p-15
    .card-body.card-padding
      form(name='form', esn-autocomplete-off)

        esn-form-group(label="{{ 'Old password' | translate }}")
          input.form-control.fg-input(type="password", ng-model="credentials.oldpassword", name="password", required, ng-disabled="hasSucceeded", autocomplete="off")
        esn-form-group(label="{{ 'New password' | translate }}")
          input.form-control.fg-input(type="password", ng-model="credentials.newpassword", name="password", required, ng-disabled="hasSucceeded", autocomplete="off")
        esn-form-group(label="{{ 'Confirm your password' | translate }}")
          input.form-control.fg-input(type="password", ng-model="credentials.confirmPassword", name="confirmpassword", password-match='credentials.newpassword', esn-track-first-blur, required, ng-disabled="hasSucceeded", autocomplete="off")

        button.full-width.btn.btn-accent(type='submit', esn-submit="changePassword(form)", ng-disabled="hasSucceeded") {{ 'Confirm' | translate }}
